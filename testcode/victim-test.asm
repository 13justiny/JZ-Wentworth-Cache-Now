ORIGIN 0
SEGMENT CodeSegment:

Start:;
    LEA R0, DSGOOD1
    LEA R1, POOP1
    LEA R2, MIKE1
    LEA R3, SHIBO1
    LDR R4, R0, G40 ;Miss no evict
    LDR R5, R1, P40 ;Miss no evict
    LDR R6, R2, M40 ;Miss clean evict
    LDR R7, R3, S40 ;Miss clean evict
    ; Victim cache has G40, P40
;

;
    LDR R4, R0, G50 ;Miss no evict
    LDR R5, R1, P50 ;Miss no evict
    LDR R6, R2, M50 ;Miss clean evict
    LDR R7, R3, S50 ;Miss clean evict
    ; Victim cache has G40, P40, G50, P50
    ADD R6, R6, 5   
    STR R6, R2, M52 ;Hit, M5- dirty
    ADD R4, R4, 7   
    STR R4, R3, S52 ;Hit, S5- dirty
;

;
    LDR R4, R0, G52 ;Miss dirty evict
    ; Victim cache has G40, P40, M50 dirty, P50
    LDR R5, R1, P52 ;Miss dirty evict
    ; Victim cache has G40, P40, M50 dirty, S50 dirty
    STR R4, R2, M42 ;Hit, M4- dirty
    STR R4, R3, S42 ;Hit, S4- dirty
    LDR R4, R0, G40 ;Miss dirty evict
    LDR R5, R1, P40 ;Miss dirty evict
    ; Victim cache has M40 dirty, S40 dirty, M50 dirty, S50 dirty
    BRnzp More_Code
    NOP
;

SEGMENT DSGOOD1:
G30: DATA2 4x3000;
G32: DATA2 4x3000;
G34: DATA2 4x3000;
G36: DATA2 4x3000;
G38: DATA2 4x3000;
G3A: DATA2 4x3000;
G3C: DATA2 4x3000;
G3E: DATA2 4x3000;

G40: DATA2 4x4000;
G42: DATA2 4x4000;
G44: DATA2 4x4000;
G46: DATA2 4x4000;
G48: DATA2 4x4000;
G4A: DATA2 4x4000;
G4C: DATA2 4x4000;
G4E: DATA2 4x4000;

G50: DATA2 4x5000;
G52: DATA2 4x5000;
G54: DATA2 4x5000;
G56: DATA2 4x5000;
G58: DATA2 4x5000;
G5A: DATA2 4x5000;
G5C: DATA2 4x5000;
G5E: DATA2 4x5000;

SEGMENT DSGOOD2:

G60: DATA2 4x6000;
G62: DATA2 4x6000;
G64: DATA2 4x6000;
G66: DATA2 4x6000;
G68: DATA2 4x6000;
G6A: DATA2 4x6000;
G6C: DATA2 4x6000;
G6E: DATA2 4x6000;


G70: DATA2 4x7000;
G72: DATA2 4x7000;
G74: DATA2 4x7000;
G76: DATA2 4x7000;
G78: DATA2 4x7000;
G7A: DATA2 4x7000;
G7C: DATA2 4x7000;
G7E: DATA2 4x7000;


SEGMENT POOP0:
P00: DATA2 4x0111;
P02: DATA2 4x0111;
P04: DATA2 4x0111;
P06: DATA2 4x0111;
P08: DATA2 4x0111;
P0A: DATA2 4x0111;
P0C: DATA2 4x0111;
P0E: DATA2 4x0111;

P10: DATA2 4x1111;
P12: DATA2 4x1111;
P14: DATA2 4x1111;
P16: DATA2 4x1111;
P18: DATA2 4x1111;
P1A: DATA2 4x1111;
P1C: DATA2 4x1111;
P1E: DATA2 4x1111;

P20: DATA2 4x2111;
P22: DATA2 4x2111;
P24: DATA2 4x2111;
P26: DATA2 4x2111;
P28: DATA2 4x2111;
P2A: DATA2 4x2111;
P2C: DATA2 4x2111;
P2E: DATA2 4x2111;

SEGMENT POOP1:
P30: DATA2 4x3111;
P32: DATA2 4x3111;
P34: DATA2 4x3111;
P36: DATA2 4x3111;
P38: DATA2 4x3111;
P3A: DATA2 4x3111;
P3C: DATA2 4x3111;
P3E: DATA2 4x3111;

P40: DATA2 4x4111;
P42: DATA2 4x4111;
P44: DATA2 4x4111;
P46: DATA2 4x4111;
P48: DATA2 4x4111;
P4A: DATA2 4x4111;
P4C: DATA2 4x4111;
P4E: DATA2 4x4111;

P50: DATA2 4x5111;
P52: DATA2 4x5111;
P54: DATA2 4x5111;
P56: DATA2 4x5111;
P58: DATA2 4x5111;
P5A: DATA2 4x5111;
P5C: DATA2 4x5111;
P5E: DATA2 4x5111;

SEGMENT POOP2:
P60: DATA2 4x6111;
P62: DATA2 4x6111;
P64: DATA2 4x6111;
P66: DATA2 4x6111;
P68: DATA2 4x6111;
P6A: DATA2 4x6111;
P6C: DATA2 4x6111;
P6E: DATA2 4x6111;

P70: DATA2 4x7111;
P72: DATA2 4x7111;
P74: DATA2 4x7111;
P76: DATA2 4x7111;
P78: DATA2 4x7111;
P7A: DATA2 4x7111;
P7C: DATA2 4x7111;
P7E: DATA2 4x7111;


SEGMENT MIKE0:
M00: DATA2 4x0222;
M02: DATA2 4x0222;
M04: DATA2 4x0222;
M06: DATA2 4x0222;
M08: DATA2 4x0222;
M0A: DATA2 4x0222;
M0C: DATA2 4x0222;
M0E: DATA2 4x0222;

M10: DATA2 4x1222;
M12: DATA2 4x1222;
M14: DATA2 4x1222;
M16: DATA2 4x1222;
M18: DATA2 4x1222;
M1A: DATA2 4x1222;
M1C: DATA2 4x1222;
M1E: DATA2 4x1222;

M20: DATA2 4x2222;
M22: DATA2 4x2222;
M24: DATA2 4x2222;
M26: DATA2 4x2222;
M28: DATA2 4x2222;
M2A: DATA2 4x2222;
M2C: DATA2 4x2222;
M2E: DATA2 4x2222;


SEGMENT MIKE1:
M30: DATA2 4x3222;
M32: DATA2 4x3222;
M34: DATA2 4x3222;
M36: DATA2 4x3222;
M38: DATA2 4x3222;
M3A: DATA2 4x3222;
M3C: DATA2 4x3222;
M3E: DATA2 4x3222;

M40: DATA2 4x4222;
M42: DATA2 4x4222;
M44: DATA2 4x4222;
M46: DATA2 4x4222;
M48: DATA2 4x4222;
M4A: DATA2 4x4222;
M4C: DATA2 4x4222;
M4E: DATA2 4x4222;

M50: DATA2 4x5222;
M52: DATA2 4x5222;
M54: DATA2 4x5222;
M56: DATA2 4x5222;
M58: DATA2 4x5222;
M5A: DATA2 4x5222;
M5C: DATA2 4x5222;
M5E: DATA2 4x5222;


SEGMENT MIKE2:
M60: DATA2 4x6222;
M62: DATA2 4x6222;
M64: DATA2 4x6222;
M66: DATA2 4x6222;
M68: DATA2 4x6222;
M6A: DATA2 4x6222;
M6C: DATA2 4x6222;
M6E: DATA2 4x6222;

M70: DATA2 4x7222;
M72: DATA2 4x7222;
M74: DATA2 4x7222;
M76: DATA2 4x7222;
M78: DATA2 4x7222;
M7A: DATA2 4x7222;
M7C: DATA2 4x7222;
M7E: DATA2 4x7222;


SEGMENT SHIBO0:
S00: DATA2 4x0333;
S02: DATA2 4x0333;
S04: DATA2 4x0333;
S06: DATA2 4x0333;
S08: DATA2 4x0333;
S0A: DATA2 4x0333;
S0C: DATA2 4x0333;
S0E: DATA2 4x0333;

S10: DATA2 4x1333;
S12: DATA2 4x1333;
S14: DATA2 4x1333;
S16: DATA2 4x1333;
S18: DATA2 4x1333;
S1A: DATA2 4x1333;
S1C: DATA2 4x1333;
S1E: DATA2 4x1333;

S20: DATA2 4x2333;
S22: DATA2 4x2333;
S24: DATA2 4x2333;
S26: DATA2 4x2333;
S28: DATA2 4x2333;
S2A: DATA2 4x2333;
S2C: DATA2 4x2333;
S2E: DATA2 4x2333;

SEGMENT SHIBO1:
S30: DATA2 4x3333;
S32: DATA2 4x3333;
S34: DATA2 4x3333;
S36: DATA2 4x3333;
S38: DATA2 4x3333;
S3A: DATA2 4x3333;
S3C: DATA2 4x3333;
S3E: DATA2 4x3333;

S40: DATA2 4x4333;
S42: DATA2 4x4333;
S44: DATA2 4x4333;
S46: DATA2 4x4333;
S48: DATA2 4x4333;
S4A: DATA2 4x4333;
S4C: DATA2 4x4333;
S4E: DATA2 4x4333;

S50: DATA2 4x5333;
S52: DATA2 4x5333;
S54: DATA2 4x5333;
S56: DATA2 4x5333;
S58: DATA2 4x5333;
S5A: DATA2 4x5333;
S5C: DATA2 4x5333;
S5E: DATA2 4x5333;

SEGMENT SHIBO2:
S60: DATA2 4x6333;
S62: DATA2 4x6333;
S64: DATA2 4x6333;
S66: DATA2 4x6333;
S68: DATA2 4x6333;
S6A: DATA2 4x6333;
S6C: DATA2 4x6333;
S6E: DATA2 4x6333;

S70: DATA2 4x7333;
S72: DATA2 4x7333;
S74: DATA2 4x7333;
S76: DATA2 4x7333;
S78: DATA2 4x7333;
S7A: DATA2 4x7333;
S7C: DATA2 4x7333;
S7E: DATA2 4x7333;

SEGMENT More_Code:
    LEA R4, JEFF1
    LDR R5, R4, J52; Miss, victim cache miss dirty evict
    ; Victim cache has M40 dirty, S40 dirty, G50, S50 dirty
    NOP
    NOP
    NOP
    NOP
    NOP
Halt:
    BRnzp Halt

SEGMENT JEFF0:
J10: DATA2 4x1444;
J12: DATA2 4x1444;
J14: DATA2 4x1444;
J16: DATA2 4x1444;
J18: DATA2 4x1444;
J1A: DATA2 4x1444;
J1C: DATA2 4x1444;
J1E: DATA2 4x1444;

J20: DATA2 4x2444;
J22: DATA2 4x2444;
J24: DATA2 4x2444;
J26: DATA2 4x2444;
J28: DATA2 4x2444;
J2A: DATA2 4x2444;
J2C: DATA2 4x2444;
J2E: DATA2 4x2444;

SEGMENT JEFF1:
J30: DATA2 4x4443;
J32: DATA2 4x4443;
J34: DATA2 4x4443;
J36: DATA2 4x4443;
J38: DATA2 4x4443;
J3A: DATA2 4x4443;
J3C: DATA2 4x4443;
J3E: DATA2 4x4443;

J40: DATA2 4x4444;
J42: DATA2 4x4444;
J44: DATA2 4x4444;
J46: DATA2 4x4444;
J48: DATA2 4x4444;
J4A: DATA2 4x4444;
J4C: DATA2 4x4444;
J4E: DATA2 4x4444;

J50: DATA2 4x5444;
J52: DATA2 4x5444;
J54: DATA2 4x5444;
J56: DATA2 4x5444;
J58: DATA2 4x5444;
J5A: DATA2 4x5444;
J5C: DATA2 4x5444;
J5E: DATA2 4x5444;

SEGMENT JEFF2:
J60: DATA2 4x6444;
J62: DATA2 4x6444;
J64: DATA2 4x6444;
J66: DATA2 4x6444;
J68: DATA2 4x6444;
J6A: DATA2 4x6444;
J6C: DATA2 4x6444;
J6E: DATA2 4x6444;

J70: DATA2 4x7444;
J72: DATA2 4x7444;
J74: DATA2 4x7444;
J76: DATA2 4x7444;
J78: DATA2 4x7444;
J7A: DATA2 4x7444;
J7C: DATA2 4x7444;
J7E: DATA2 4x7444;
